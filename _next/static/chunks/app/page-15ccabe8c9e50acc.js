(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{909:(e,t,a)=>{Promise.resolve().then(a.bind(a,5584))},5584:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var n=a(5155),o=a(2115),s=a(2317),r=a(1027),i=a(3463),l=a(9795);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}let c=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:a,variant:o,size:r,asChild:i=!1,...l}=e,u=i?s.DX:"button";return(0,n.jsx)(u,{className:d(c({variant:o,size:r,className:a})),ref:t,...l})});u.displayName="Button";var m=a(5714).Buffer;let f="markdown-notes",p="markdown-folders",h="github-credentials",x=o.forwardRef((e,t)=>{let{className:a,type:o,...s}=e;return(0,n.jsx)("input",{type:o,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});x.displayName="Input";let g=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o})});g.displayName="Textarea";var b=a(4206);function y(e){let{note:t,isPreview:a,onChange:s}=e,[r,i]=(0,o.useState)(t);(0,o.useEffect)(()=>{i(t)},[t]);let l=(e,t)=>{let a={...r,[e]:t,updatedAt:new Date().toISOString()};i(a),s(a)};return a?(0,n.jsxs)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[(0,n.jsx)("h1",{children:t.title||"Untitled Note"}),(0,n.jsx)(b.o,{children:t.content})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(x,{value:r.title,onChange:e=>l("title",e.target.value),placeholder:"Note title"}),(0,n.jsx)(g,{value:r.content,onChange:e=>l("content",e.target.value),placeholder:"Write your note in markdown...",className:"min-h-[400px] font-mono"})]})}var N=a(1719),v=a(6967),j=a(7257),w=a(6659),S=a(5686),k=a(3473),A=a(7294),C=a(8867),I=a(3565);let O=A.bL,z=A.l9;A.YJ,A.ZL,A.Pb,A.z6,o.forwardRef((e,t)=>{let{className:a,inset:o,children:s,...r}=e;return(0,n.jsxs)(A.ZP,{ref:t,className:d("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",o&&"pl-8",a),...r,children:[s,(0,n.jsx)(v.A,{className:"ml-auto h-4 w-4"})]})}).displayName=A.ZP.displayName,o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(A.G5,{ref:t,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})}).displayName=A.G5.displayName;let D=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(A.ZL,{children:(0,n.jsx)(A.UC,{ref:t,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});D.displayName=A.UC.displayName;let F=o.forwardRef((e,t)=>{let{className:a,inset:o,...s}=e;return(0,n.jsx)(A.q7,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o&&"pl-8",a),...s})});function E(e){let{folders:t,notes:a,selectedNoteId:s,onNoteSelect:r,onFolderCreate:i,onFolderDelete:l,onNoteCreate:d,onNoteDelete:c}=e,[m,f]=(0,o.useState)(new Set),[p,h]=(0,o.useState)(""),[g,b]=(0,o.useState)(null),y=e=>{let t=new Set(m);t.has(e)?t.delete(e):t.add(e),f(t)},A=e=>{p&&(i(p,e),h(""),b(null))},C=e=>{let o=t.filter(t=>t.parentId===e.id),i=a.filter(t=>t.folderId===e.id),f=m.has(e.id);return(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(z,{children:(0,n.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded hover:bg-accent cursor-pointer",onClick:()=>y(e.id),children:[f?(0,n.jsx)(N.A,{className:"h-4 w-4"}):(0,n.jsx)(v.A,{className:"h-4 w-4"}),(0,n.jsx)(j.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:e.name})]})}),(0,n.jsxs)(D,{children:[(0,n.jsx)(F,{onClick:()=>b(e.id),children:"New Folder"}),(0,n.jsx)(F,{onClick:()=>d(e.id),children:"New Note"}),(0,n.jsx)(F,{onClick:()=>l(e.id),children:"Delete Folder"})]})]}),f&&(0,n.jsxs)("div",{className:"ml-4",children:[g===e.id&&(0,n.jsxs)("div",{className:"flex items-center gap-2 p-1",children:[(0,n.jsx)(x,{value:p,onChange:e=>h(e.target.value),onKeyDown:t=>{"Enter"===t.key&&A(e.id)},placeholder:"Folder name...",className:"h-8"}),(0,n.jsx)(u,{size:"sm",onClick:()=>A(e.id),children:"Create"})]}),o.map(C),i.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-2 p-1 ml-4 rounded cursor-pointer ".concat(s===e.id?"bg-accent":"hover:bg-accent"),onClick:()=>r(e.id),children:[(0,n.jsx)(w.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:e.title||"Untitled Note"}),(0,n.jsx)(u,{variant:"ghost",size:"icon",className:"ml-auto h-6 w-6",onClick:t=>{t.stopPropagation(),c(e.id)},children:(0,n.jsx)(S.A,{className:"h-4 w-4"})})]},e.id))]})]},e.id)};return(0,n.jsxs)("div",{className:"min-h-[500px] p-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"font-semibold",children:"Files"}),(0,n.jsxs)(u,{size:"sm",variant:"outline",onClick:()=>b("root"),children:[(0,n.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"New Folder"]})]}),"root"===g&&(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)(x,{value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A(null)},placeholder:"Folder name...",className:"h-8"}),(0,n.jsx)(u,{size:"sm",onClick:()=>A(null),children:"Create"})]}),t.filter(e=>!e.parentId).map(C)]})}F.displayName=A.q7.displayName,o.forwardRef((e,t)=>{let{className:a,children:o,checked:s,...r}=e;return(0,n.jsxs)(A.H_,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...r,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(A.VF,{children:(0,n.jsx)(C.A,{className:"h-4 w-4"})})}),o]})}).displayName=A.H_.displayName,o.forwardRef((e,t)=>{let{className:a,children:o,...s}=e;return(0,n.jsxs)(A.hN,{ref:t,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(A.VF,{children:(0,n.jsx)(I.A,{className:"h-2 w-2 fill-current"})})}),o]})}).displayName=A.hN.displayName,o.forwardRef((e,t)=>{let{className:a,inset:o,...s}=e;return(0,n.jsx)(A.JU,{ref:t,className:d("px-2 py-1.5 text-sm font-semibold text-foreground",o&&"pl-8",a),...s})}).displayName=A.JU.displayName,o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(A.wv,{ref:t,className:d("-mx-1 my-1 h-px bg-border",a),...o})}).displayName=A.wv.displayName;var J=a(1626),R=a(6217),_=a(767);let H=R.bL,G=R.l9,U=R.ZL;R.bm;let P=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(R.hJ,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...o})});P.displayName=R.hJ.displayName;let T=o.forwardRef((e,t)=>{let{className:a,children:o,...s}=e;return(0,n.jsxs)(U,{children:[(0,n.jsx)(P,{}),(0,n.jsxs)(R.UC,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s,children:[o,(0,n.jsxs)(R.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(_.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});T.displayName=R.UC.displayName;let L=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};L.displayName="DialogHeader";let M=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(R.hE,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a),...o})});M.displayName=R.hE.displayName;let V=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(R.VY,{ref:t,className:d("text-sm text-muted-foreground",a),...o})});V.displayName=R.VY.displayName;var Z=a(6195);let Y=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,n.jsx)(Z.b,{ref:t,className:d(Y(),a),...o})});function B(e){let{onSaveCredentials:t,hasCredentials:a}=e,[s,r]=(0,o.useState)(!1),[i,l]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[m,f]=(0,o.useState)(!1),p=async()=>{try{f(!0),await t(i,d),r(!1)}catch(e){console.error("Failed to save credentials:",e)}finally{f(!1)}};return(0,n.jsxs)(H,{open:s,onOpenChange:r,children:[(0,n.jsx)(G,{asChild:!0,children:(0,n.jsxs)(u,{variant:"outline",children:[(0,n.jsx)(J.A,{className:"h-4 w-4 mr-2"}),a?"Connected to GitHub":"Connect GitHub"]})}),(0,n.jsxs)(T,{children:[(0,n.jsxs)(L,{children:[(0,n.jsx)(M,{children:"Connect to GitHub"}),(0,n.jsx)(V,{children:"Enter your GitHub personal access token and repository details to sync your notes. The repository will be used as your notes database."})]}),(0,n.jsxs)("div",{className:"space-y-4 py-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(q,{htmlFor:"token",children:"GitHub Token"}),(0,n.jsx)(x,{id:"token",value:i,onChange:e=>l(e.target.value),placeholder:"ghp_xxxxxxxxxxxx",type:"password"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(q,{htmlFor:"repo",children:"Repository (username/repo)"}),(0,n.jsx)(x,{id:"repo",value:d,onChange:e=>c(e.target.value),placeholder:"username/repo"})]})]}),(0,n.jsx)(u,{onClick:p,disabled:!i||!d||m,className:"w-full",children:m?"Connecting...":"Connect Repository"})]})]})}function K(){let[e,t]=(0,o.useState)(null),{notes:a,folders:s,isLoading:r,addFolder:i,deleteFolder:l,addNote:d,updateNote:c,deleteNote:x,saveCredentials:g,hasCredentials:b}=function(){let[e,t]=(0,o.useState)([]),[a,n]=(0,o.useState)([]),[s,r]=(0,o.useState)(!0),[i,l]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=localStorage.getItem(h);e&&l(JSON.parse(e))},[]),(0,o.useEffect)(()=>{(async()=>{r(!0);try{let e=localStorage.getItem(f),a=localStorage.getItem(p);e&&t(JSON.parse(e)),a&&n(JSON.parse(a)),i&&await d(i.token,i.repo)}catch(e){console.error("Failed to initialize data:",e)}finally{r(!1)}})()},[i]);let d=async(o,s)=>{try{let r=await fetch("https://api.github.com/repos/".concat(s,"/contents/content"),{headers:{Authorization:"token ".concat(o),Accept:"application/vnd.github.v3+json"}});if(!r.ok){if(404===r.status)return;throw Error("Failed to fetch content from GitHub")}let i=[],l=[],d=async(e,t)=>{let a=await fetch("https://api.github.com/repos/".concat(s,"/contents/").concat(e),{headers:{Authorization:"token ".concat(o),Accept:"application/vnd.github.v3+json"}});for(let e of(await a.json()))if("dir"===e.type&&".git"!==e.name){let a={id:m.from(e.path).toString("base64"),name:e.name,parentId:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i.push(a),await d(e.path,a.id)}else if("file"===e.type&&e.name.endsWith(".md")){let a=await fetch(e.download_url),n=await a.text(),{metadata:o,markdown:s}=c(n),r={id:m.from(e.path).toString("base64"),title:e.name.replace(".md",""),content:s,folderId:t||"root",createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString()};l.push(r)}};await d("content",null);let h=u(a,i),g=x(e,l);n(h),t(g),localStorage.setItem(p,JSON.stringify(h)),localStorage.setItem(f,JSON.stringify(g))}catch(e){throw console.error("Failed to fetch from GitHub:",e),e}},c=e=>{let t=e.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);if(!t)return{metadata:{},markdown:e};let[,a,n]=t;return{metadata:a.split("\n").reduce((e,t)=>{let[a,n]=t.split(": ");return a&&n&&(e[a.trim()]=n.trim()),e},{}),markdown:n.trim()}},u=(e,t)=>{let a=new Map;return e.forEach(e=>a.set(e.id,e)),t.forEach(e=>{let t=a.get(e.id);t?a.set(e.id,{...e,updatedAt:new Date(Math.max(new Date(t.updatedAt).getTime(),new Date(e.updatedAt).getTime())).toISOString()}):a.set(e.id,e)}),Array.from(a.values())},x=(e,t)=>{let a=new Map;return e.forEach(e=>a.set(e.id,e)),t.forEach(e=>{let t=a.get(e.id);t?a.set(e.id,{...e,content:new Date(t.updatedAt)>new Date(e.updatedAt)?t.content:e.content}):a.set(e.id,e)}),Array.from(a.values())},g=async(e,t,a,n,o)=>{try{let s=await fetch("https://api.github.com/repos/".concat(o,"/contents/").concat(e),{headers:{Authorization:"token ".concat(n),Accept:"application/vnd.github.v3+json"}}),r=s.ok?await s.json():null,i=null==r?void 0:r.sha;await fetch("https://api.github.com/repos/".concat(o,"/contents/").concat(e),{method:"PUT",headers:{Authorization:"token ".concat(n),"Content-Type":"application/json",Accept:"application/vnd.github.v3+json"},body:JSON.stringify({message:a,content:m.from(t).toString("base64"),...i?{sha:i}:{}})})}catch(e){throw console.error("Failed to commit to GitHub:",e),e}},b=async(e,t,a,n)=>{try{let o=await fetch("https://api.github.com/repos/".concat(n,"/contents/").concat(e),{headers:{Authorization:"token ".concat(a),Accept:"application/vnd.github.v3+json"}});if(!o.ok)return;let s=await o.json();await fetch("https://api.github.com/repos/".concat(n,"/contents/").concat(e),{method:"DELETE",headers:{Authorization:"token ".concat(a),"Content-Type":"application/json",Accept:"application/vnd.github.v3+json"},body:JSON.stringify({message:t,sha:s.sha})})}catch(e){throw console.error("Failed to delete from GitHub:",e),e}},y=async(e,t)=>{if(!i)return;let o={id:m.from("content/".concat(e)).toString("base64"),name:e,parentId:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s=[...a,o];return n(s),localStorage.setItem(p,JSON.stringify(s)),await g("content/".concat(e,"/.gitkeep"),"","Create folder ".concat(e),i.token,i.repo),o},N=async o=>{if(!i)return;let s=e=>{let t=a.filter(t=>t.parentId===e);return[e,...t.flatMap(e=>s(e.id))]},r=s(o),l=a.find(e=>e.id===o);if(l&&i){let e="content/".concat(l.name);await b(e,"Delete folder ".concat(l.name),i.token,i.repo)}let d=e.filter(e=>!r.includes(e.folderId)),c=a.filter(e=>!r.includes(e.id));t(d),n(c),localStorage.setItem(f,JSON.stringify(d)),localStorage.setItem(p,JSON.stringify(c))},v=async n=>{if(!i)return;let o=a.find(e=>e.id===n),s={id:m.from("content/".concat((null==o?void 0:o.name)||"","/untitled.md")).toString("base64"),title:"Untitled Note",content:"",folderId:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},r=[...e,s];t(r),localStorage.setItem(f,JSON.stringify(r));let l="---\ntitle: ".concat(s.title,"\ncreatedAt: ").concat(s.createdAt,"\nupdatedAt: ").concat(s.updatedAt,"\n---\n\n").concat(s.content),d="content/".concat((null==o?void 0:o.name)||"","/").concat(s.title,".md");return await g(d,l,"Create note ".concat(s.title),i.token,i.repo),s},j=async n=>{if(!i)return;let o=e.map(e=>e.id===n.id?n:e);t(o),localStorage.setItem(f,JSON.stringify(o));let s=a.find(e=>e.id===n.folderId),r="---\ntitle: ".concat(n.title,"\ncreatedAt: ").concat(n.createdAt,"\nupdatedAt: ").concat(n.updatedAt,"\n---\n\n").concat(n.content),l="content/".concat((null==s?void 0:s.name)||"","/").concat(n.title,".md");await g(l,r,"Update note ".concat(n.title),i.token,i.repo)},w=async n=>{if(!i)return;let o=e.find(e=>e.id===n);if(o){let s=a.find(e=>e.id===o.folderId),r="content/".concat((null==s?void 0:s.name)||"","/").concat(o.title,".md");await b(r,"Delete note ".concat(o.title),i.token,i.repo);let l=e.filter(e=>e.id!==n);t(l),localStorage.setItem(f,JSON.stringify(l))}};return{notes:e,folders:a,isLoading:s,addFolder:y,deleteFolder:N,addNote:v,updateNote:j,deleteNote:w,saveCredentials:(e,t)=>{let a={token:e,repo:t};localStorage.setItem(h,JSON.stringify(a)),l(a)},hasCredentials:!!i}}(),[N,v]=(0,o.useState)(!1),j=e?a.find(t=>t.id===e):null;return(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,n.jsx)("header",{className:"border-b",children:(0,n.jsxs)("div",{className:"container flex items-center justify-between h-16",children:[(0,n.jsx)("h1",{className:"text-xl font-bold",children:"Markdown Notes"}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(B,{onSaveCredentials:g,hasCredentials:b})})]})}),(0,n.jsx)("main",{className:"container py-4",children:r?(0,n.jsx)("div",{className:"flex items-center justify-center h-[500px]",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading your notes..."})]})}):(0,n.jsxs)("div",{className:"grid grid-cols-[300px_1fr] gap-4",children:[(0,n.jsx)("div",{className:"border rounded-lg",children:(0,n.jsx)(E,{folders:s,notes:a,selectedNoteId:e,onNoteSelect:t,onFolderCreate:i,onFolderDelete:l,onNoteCreate:e=>{d(e).then(e=>{e&&t(e.id)})},onNoteDelete:x})}),(0,n.jsx)("div",{className:"border rounded-lg p-4",children:j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"font-semibold",children:j.title||"Untitled Note"}),(0,n.jsx)(u,{variant:"outline",size:"sm",onClick:()=>v(!N),children:N?"Edit":"Preview"})]}),(0,n.jsx)(y,{note:j,isPreview:N,onChange:c})]}):(0,n.jsx)("div",{className:"flex items-center justify-center h-[500px] text-muted-foreground",children:b?"Select a note or create a new one in a folder":"Connect your GitHub repository to start taking notes"})})]})})]})}q.displayName=Z.b.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[148,441,517,358],()=>t(909)),_N_E=e.O()}]);